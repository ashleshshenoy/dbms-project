<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../images/logo.png" type="image/x-icon" />
    <title>widly</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="../css/index.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300&display=swap" rel="stylesheet">


</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark ">
        <div class="container-fluid">
        <img src="../images/logo.png" width="50" class="me-2" alt="">
          <a class="navbar-brand" href="#">Widley.</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarScroll" aria-controls="navbarScroll" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarScroll">
            <ul class="navbar-nav ms-auto my-2 my-lg-0 navbar-nav-scroll" style="--bs-scroll-height: 100px;">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="../views/login.html">login</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">contact</a>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarScrollingDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  more
                </a>
                <ul class="dropdown-menu" aria-labelledby="navbarScrollingDropdown">
                  <li><a class="dropdown-item" href="#">Action</a></li>
                  <li><a class="dropdown-item" href="#">Another action</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="#">Something else here</a></li>
                </ul>
              </li>
            </ul>
         
          </div>
        </div>
      </nav>
    <section class="container hero">
      <div class="hero-text">

        <h1 >Top video streaming platform for short videos & online contents.</h1>
       <a href="../views/signup.html"> <button class=" mt-3 get-started-btn " >
          Get started now
        </button></a>
      </div>
      <div class="floating-animation-box">
        <img src="../images/d1.png"  id="d1" alt="">
        <img src="../images/d3.png"  id="d2"alt="" srcset="">
      </div>
      

    </section>

    <section class="info container">
        
      <div>
        <img src="../images/usersicon.png" alt="" width="100px" srcset="">
        <h1>Users</h1>
        <p id="user-count">active users</p>
      </div>
      <div>
        <img src="../images/videoicon.png" width="100px" alt="" srcset="">
        <h1>Videos</h1>
        <p id="video-count">videos</p>
      </div>
      <div>
        <img src="../images/playicon.png" width="100px" alt="" srcset="">
        <h1>Views</h1>
        <p id="view-count">views</p>
      </div>
      <div>
        <img src="../images/likeicon.png" width="100px" alt="" srcset="">
        <h1>Likes</h1>
        <p id="like-count">Likes</p>
      </div>
      <div>
        <img src="../images/commenticon.png" width="100px" alt="" srcset="">
        <h1>Comments</h1>
        <p id="comment-count">Comments</p>
      </div>
    </section>



    <section class="cfa ">
      
        <h1>Join our platform to experince the best online content</h1>
        <h4>seamless short video streaming, enjoy global content at your fingertip.</h4>
        <p>widley is a short-formed video hosting service that lets content creators share their talent, knowlegde, news and information across various categories which is made available to viewers across the globle to interect and get entertained.
          The whole new world of short streaming application awaits your exploration.
        </p>
        <button class="mt-3 btn  btn-outline-success">Signup now</button>

    </section>

 

    <footer>

    </footer>




    <div class="loader-container">
      <img src="../images/logo.png" id="loader" width="100px" alt="">

    </div>
    <script>

      const videoCount = document.querySelector("#video-count");
      const likeCount = document.querySelector("#like-count");
      const commentCount = document.querySelector("#comment-count");
      const userCount = document.querySelector("#user-count");
      const viewCount = document.querySelector("#view-count");
      fetch('http://localhost:8000/agg',{
        method : "GET",
        headers: {
            "Content-type": "application/json; charset=UTF-8"
                }
        }).then(function (a) {
            return a.json(); // call the json method on the response to get JSON
        })
        .then(function (json) {
          videoCount.innerHTML = json.videoCount + " videos"
          viewCount.innerHTML = json.viewCount + " views";
          userCount.innerHTML = json.profileCount + " users";
          likeCount.innerHTML = json.likeCount + " like";
          commentCount.innerHTML  = json.commentCount + " comments";
        
        })



      var myVar;
      
      function myFunction() {
        myVar = setTimeout(showPage, 3000);
      }
      
      function showPage() {
        console.log("yello")
        document.getElementsByClassName("loader-container")[0].style.display = "none";
  
        document.getElementsByTagName("footer")[0].style.display = "flex";
        const list = document.getElementsByTagName("section")
        for(var i=0; i<list.length; i++) 
          list[i].style.display = "flex";
      }
      myFunction()
      </script>
</body>
</html>